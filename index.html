<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Professional Markdown to HTML Editor">
    <title>Markdown Pro Editor</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="assets/css/base.css">
    <link rel="stylesheet" href="assets/css/layout.css">
    <link rel="stylesheet" href="assets/css/toolbar.css">
    <link rel="stylesheet" href="assets/css/editor.css">
    <link rel="stylesheet" href="assets/css/theme-light.css">
    <link rel="stylesheet" href="assets/css/theme-dark.css">
    <link rel="stylesheet" href="assets/css/modal.css">
    <link rel="stylesheet" href="assets/css/toc.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    
    <!-- Prism.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
</head>
<body data-theme="light" data-vim-mode="false">
    
    <!-- Main Container -->
    <div class="app-container">
        
        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-group">
                <button class="toolbar-btn" data-action="new" title="New (Ctrl+N)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="12" y1="18" x2="12" y2="12"/>
                        <line x1="9" y1="15" x2="15" y2="15"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="import" title="Import File">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="export-md" title="Export Markdown">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="17 8 12 3 7 8"/>
                        <line x1="12" y1="3" x2="12" y2="15"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="export-html" title="Export HTML">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="16 18 22 12 16 6"/>
                        <polyline points="8 6 2 12 8 18"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="save" title="Save (Ctrl+S)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                        <polyline points="17 21 17 13 7 13 7 21"/>
                        <polyline points="7 3 7 8 15 8"/>
                    </svg>
                </button>
            </div>
            
            <div class="toolbar-divider"></div>
            
            <div class="toolbar-group" data-group="format">
                <button class="toolbar-btn" data-action="bold" title="Bold (Ctrl+B)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/>
                        <path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="italic" title="Italic (Ctrl+I)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="19" y1="4" x2="10" y2="4"/>
                        <line x1="14" y1="20" x2="5" y2="20"/>
                        <line x1="15" y1="4" x2="9" y2="20"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="strikethrough" title="Strikethrough">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12h18M8 5c1-1 2.5-1.5 4-1.5s3 .5 4 1.5M8 19c1 1 2.5 1.5 4 1.5s3-.5 4-1.5"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="code" title="Inline Code">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="16 18 22 12 16 6"/>
                        <polyline points="8 6 2 12 8 18"/>
                    </svg>
                </button>
            </div>
            
            <div class="toolbar-divider"></div>
            
            <div class="toolbar-group" data-group="insert">
                <button class="toolbar-btn" data-action="heading" title="Heading">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 12h8m0-8v16m8-12h-6m0-4v16"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="link" title="Link">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="image" title="Image">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="list" title="Unordered List">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="8" y1="6" x2="21" y2="6"/>
                        <line x1="8" y1="12" x2="21" y2="12"/>
                        <line x1="8" y1="18" x2="21" y2="18"/>
                        <line x1="3" y1="6" x2="3.01" y2="6"/>
                        <line x1="3" y1="12" x2="3.01" y2="12"/>
                        <line x1="3" y1="18" x2="3.01" y2="18"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="ordered-list" title="Ordered List">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="10" y1="6" x2="21" y2="6"/>
                        <line x1="10" y1="12" x2="21" y2="12"/>
                        <line x1="10" y1="18" x2="21" y2="18"/>
                        <path d="M4 6h1v4"/>
                        <path d="M4 10h2"/>
                        <path d="M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="table" title="Table">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <line x1="3" y1="9" x2="21" y2="9"/>
                        <line x1="3" y1="15" x2="21" y2="15"/>
                        <line x1="9" y1="3" x2="9" y2="21"/>
                        <line x1="15" y1="3" x2="15" y2="21"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="code-block" title="Code Block">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="3" width="20" height="18" rx="2"/>
                        <line x1="7" y1="8" x2="7" y2="16"/>
                        <polyline points="11 12 13 10 15 12 13 14 11 12"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="quote" title="Blockquote">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"/>
                        <path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"/>
                    </svg>
                </button>
            </div>
            
            <div class="toolbar-divider"></div>
            
            <div class="toolbar-group" data-group="edit">
                <button class="toolbar-btn" data-action="undo" title="Undo (Ctrl+Z)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 7v6h6"/>
                        <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="redo" title="Redo (Ctrl+Shift+Z)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 7v6h-6"/>
                        <path d="M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"/>
                    </svg>
                </button>
            </div>
            
            <div class="toolbar-divider"></div>
            
            <div class="toolbar-group" data-group="view">
                <button class="toolbar-btn" data-action="toggle-toc" title="Toggle TOC">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="8" y1="6" x2="21" y2="6"/>
                        <line x1="8" y1="12" x2="21" y2="12"/>
                        <line x1="8" y1="18" x2="21" y2="18"/>
                        <line x1="3" y1="6" x2="3.01" y2="6"/>
                        <line x1="3" y1="12" x2="3.01" y2="12"/>
                        <line x1="3" y1="18" x2="3.01" y2="18"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="fullscreen" title="Fullscreen (F11)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                    </svg>
                </button>
                <button class="toolbar-btn" data-action="theme" title="Toggle Theme">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
            </div>
            
            <div class="toolbar-spacer"></div>
            
            <div class="toolbar-stats">
                <span class="stat" id="word-count">Words: 0</span>
                <span class="stat" id="char-count">Chars: 0</span>
                <span class="stat" id="read-time">Read: 0m</span>
            </div>
            
            <div class="toolbar-group">
                <label class="toolbar-toggle" title="Vim Mode">
                    <input type="checkbox" id="vim-toggle">
                    <span>Vim</span>
                </label>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Editor Pane -->
            <div class="editor-pane">
                <div class="editor-header">
                    <span>Markdown</span>
                </div>
                <div class="editor-wrapper">
                    <div class="line-numbers" id="line-numbers"></div>
                    <textarea 
                        class="editor" 
                        id="editor" 
                        placeholder="# Start writing your markdown here..."
                        spellcheck="false"
                        autocomplete="off"
                        autocorrect="off"
                        autocapitalize="off"
                    ></textarea>
                </div>
            </div>
            
            <!-- Splitter -->
            <div class="splitter" id="splitter"></div>
            
            <!-- Preview Pane -->
            <div class="preview-pane">
                <div class="preview-header">
                    <span>Preview</span>
                </div>
                <div class="preview-content" id="preview">
                    <div class="preview-placeholder">
                        <h1>Welcome to Markdown Pro</h1>
                        <p>Start typing in the editor to see your content rendered here.</p>
                    </div>
                </div>
            </div>
            
            <!-- Table of Contents -->
            <div class="toc-container" id="toc-container">
                <div class="toc-header">
                    <span>Contents</span>
                    <button class="toc-close" id="toc-close">×</button>
                </div>
                <div class="toc-content" id="toc-content">
                    <p class="toc-empty">No headings found</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modals -->
    <div class="modal" id="table-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Insert Table</h3>
                <button class="modal-close" data-close="table-modal">×</button>
            </div>
            <div class="modal-body">
                <div class="modal-field">
                    <label>Rows:</label>
                    <input type="number" id="table-rows" min="1" max="50" value="3">
                </div>
                <div class="modal-field">
                    <label>Columns:</label>
                    <input type="number" id="table-cols" min="1" max="20" value="3">
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" data-close="table-modal">Cancel</button>
                <button class="modal-btn modal-btn-primary" id="table-insert">Insert</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="heading-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Insert Heading</h3>
                <button class="modal-close" data-close="heading-modal">×</button>
            </div>
            <div class="modal-body">
                <div class="modal-field">
                    <label>Level:</label>
                    <select id="heading-level">
                        <option value="1">H1</option>
                        <option value="2" selected>H2</option>
                        <option value="3">H3</option>
                        <option value="4">H4</option>
                        <option value="5">H5</option>
                        <option value="6">H6</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" data-close="heading-modal">Cancel</button>
                <button class="modal-btn modal-btn-primary" id="heading-insert">Insert</button>
            </div>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>
    
    <!-- Hidden File Input -->
    <input type="file" id="file-input" accept=".md,.txt,.markdown" style="display: none;">
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/11.1.1/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <!-- Application Scripts -->
    <script src="assets/js/core.js"></script>
    <script src="assets/js/ui.js"></script>
    <script src="assets/js/history.js"></script>
    <script src="assets/js/autosave.js"></script>
    <script src="assets/js/preview.js"></script>
    <script src="assets/js/toc.js"></script>
    <script src="assets/js/actions.js"></script>
    <script src="assets/js/shortcuts.js"></script>
    <script src="assets/js/file.js"></script>
    <script src="assets/js/fullscreen.js"></script>
    
    <script>
        // Initialize application
        document.addEventListener('DOMContentLoaded', () => {
            MarkdownPro.init();
        });
    </script>
</body>
</html>